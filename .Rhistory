# scale_y_continuous(name="", breaks=NA, limits=c(0,1)) +
geom_vline(data=d, mapping=aes(xintercept=date), color="blue") +
geom_text(data=d, mapping=aes(x=date, y=0, label=event), size=4, angle=90, vjust=-0.4, hjust=0)
p<-ggplot(df_dep, aes(x=Fecha, CASOS, colour=REGION,group=REGION)) +
geom_line() +
scale_colour_manual(values=pal1)+
theme(panel.background = element_rect(fill = "gray"),
legend.position = "right",
legend.justification = c("right","top"))+
# theme(axis.text.x = element_text(angle=90),
#       )+
labs(title="SARS-CoV2 en Perú", y="Casos por región",
x="Fecha", caption="Source :varios")+
scale_x_date(labels = date_format("%d-%m"))
p
p+ggplot() +
scale_x_date(labels = date_format("%d-%m")) +
# scale_y_continuous(name="", breaks=NA, limits=c(0,1)) +
geom_vline(data=d, mapping=aes(xintercept=date), color="blue") +
geom_text(data=d, mapping=aes(x=date, y=0, label=event), size=4, angle=90, vjust=-0.4, hjust=0)+
bbc_style()
p+ggplot() +
scale_x_date(labels = date_format("%d-%m")) +
# scale_y_continuous(name="", breaks=NA, limits=c(0,1)) +
geom_vline(data=d, mapping=aes(xintercept=date), color="blue") +
geom_text(data=d, mapping=aes(x=date, y=0, label=event), size=4, angle=90, vjust=-0.4, hjust=0)+
bbc_style()
p+ggplot() +
scale_x_date(labels = date_format("%d-%m")) +
# scale_y_continuous(name="", breaks=NA, limits=c(0,1)) +
geom_vline(data=d, mapping=aes(xintercept=date), color="blue") +
# geom_text(data=d, mapping=aes(x=date, y=0, label=event), size=4, angle=90, vjust=-0.4, hjust=0)+
bbc_style()
ggplot() +
scale_x_date(labels = date_format("%d-%m")) +
scale_y_continuous(name="", breaks=NA, limits=c(0,1)) +
geom_vline(data=d, mapping=aes(xintercept=date), color="blue") +
geom_text(data=d, mapping=aes(x=date, y=0, label=event), size=4, angle=90, vjust=-0.4, hjust=0)+
bbc_style()
ggplot() +
scale_x_date(labels = date_format("%d-%m")) +
# scale_y_continuous(name="", breaks=NA, limits=c(0,1)) +
geom_vline(data=d, mapping=aes(xintercept=date), color="blue") +
geom_text(data=d, mapping=aes(x=date, y=0, label=event), size=4, angle=90, vjust=-0.4, hjust=0)+
bbc_style()
p+
scale_x_date(labels = date_format("%d-%m")) +
# scale_y_continuous(name="", breaks=NA, limits=c(0,1)) +
geom_vline(data=d, mapping=aes(xintercept=date), color="blue") +
geom_text(data=d, mapping=aes(x=date, y=0, label=event), size=4, angle=90, vjust=-0.4, hjust=0)+
bbc_style()
View(df_dep)
View(d)
p<-ggplot(df_dep, aes(x=Fecha, CASOS, colour=REGION,group=REGION)) +
geom_line() +
scale_colour_manual(values=pal1)+
theme(panel.background = element_rect(fill = "gray"),
legend.position = "right",
legend.justification = c("right","top"))+
# theme(axis.text.x = element_text(angle=90),
#       )+
labs(title="SARS-CoV2 en Perú", y="Casos por región",
x="Fecha", caption="Source :varios")+
scale_x_date(labels = date_format("%d-%m"))
p
p<-ggplot(df_dep, aes(x=Fecha, CASOS, colour=REGION,group=REGION)) +
geom_line() +
scale_colour_manual(values=pal1)+
theme(panel.background = element_rect(fill = "white"),
legend.position = "right",
legend.justification = c("right","top"))+
# theme(axis.text.x = element_text(angle=90),
#       )+
labs(title="SARS-CoV2 en Perú", y="Casos por región",
x="Fecha", caption="Source :varios")+
scale_x_date(labels = date_format("%d-%m"))
p
p+
scale_x_date(labels = date_format("%d-%m")) +
# scale_y_continuous(name="", breaks=NA, limits=c(0,1)) +
geom_vline(data=d, mapping=aes(xintercept=date), color="blue") +
geom_text(data=d, mapping=aes(x=date, y=0, label=event), size=4, angle=90, vjust=-0.4, hjust=0)+
bbc_style()
p+
scale_x_date(labels = date_format("%d-%m")) +
# scale_y_continuous(name="", breaks=NA, limits=c(0,1)) +
geom_vline(data=d, mapping=aes(xintercept=date), color="blue") +
geom_text(data=d, mapping=aes(x=date, label=event), size=4, angle=90, vjust=-0.4, hjust=0)+
bbc_style()
p<-ggplot(df_dep, aes(x=Fecha, CASOS, colour=REGION,group=REGION)) +
geom_line() +
scale_colour_manual(values=pal1)+
theme(panel.background = element_rect(fill = "white"),
legend.position = "right",
legend.justification = c("right","top"))+
# theme(axis.text.x = element_text(angle=90),
#       )+
labs(title="SARS-CoV2 en Perú", y="Casos por región",
x="Fecha", caption="Source :varios")+
# scale_x_date(labels = date_format("%d-%m"))
scale_x_date(labels = date_format("%d-%m")) +
# scale_y_continuous(name="", breaks=NA, limits=c(0,1)) +
geom_vline(data=d, mapping=aes(xintercept=date), color="blue") +
geom_text(data=d, mapping=aes(x=date, label=event), size=4, angle=90, vjust=-0.4, hjust=0)+
bbc_style()
p
df_dep<-fread("~/covid19/data/modificadas/covidPE_DEP_20200414_CA_clean.csv")
df_dep<-df_dep %>%
mutate(Fecha = as.Date(Fecha1))
palM <- c("maroon", "darkorange3", "goldenrod3", "darkgreen", "navy", "plum4", "black",
"lightcoral", "peachpuff2", "khaki1", "olivedrab3", "steelblue1", "thistle", "snow2",
"red3", "orange", "gold", "springgreen4", "dodgerblue3", "mediumpurple", "gray")
pal1 <- palM[1:length(unique(df_dep$REGION))]
p<-ggplot(df_dep, aes(x=Fecha, CASOS, colour=REGION,group=REGION)) +
geom_line() +
scale_colour_manual(values=pal1)+
theme(panel.background = element_rect(fill = "white"),
legend.position = "right",
legend.justification = c("right","top"))+
# theme(axis.text.x = element_text(angle=90),
#       )+
labs(title="SARS-CoV2 en Perú", y="Casos por región",
x="Fecha", caption="Source :varios")+
# scale_x_date(labels = date_format("%d-%m"))
scale_x_date(labels = date_format("%d-%m")) +
# scale_y_continuous(name="", breaks=NA, limits=c(0,1)) +
geom_vline(data=d, mapping=aes(xintercept=date), color="blue") +
geom_text(data=d, mapping=aes(x=date, label=event), size=4, angle=90, vjust=-0.4, hjust=0)+
bbc_style()
p
p<-ggplot() +
geom_line(df_dep, aes(x=Fecha, CASOS, colour=REGION,group=REGION)) +
scale_colour_manual(values=pal1)+
theme(panel.background = element_rect(fill = "white"),
legend.position = "right",
legend.justification = c("right","top"))+
# theme(axis.text.x = element_text(angle=90),
#       )+
labs(title="SARS-CoV2 en Perú", y="Casos por región",
x="Fecha", caption="Source :varios")+
# scale_x_date(labels = date_format("%d-%m"))
scale_x_date(labels = date_format("%d-%m")) +
# scale_y_continuous(name="", breaks=NA, limits=c(0,1)) +
geom_vline(data=d, mapping=aes(xintercept=date), color="blue") +
geom_text(data=d, mapping=aes(x=date, label=event), size=4, angle=90, vjust=-0.4, hjust=0)+
bbc_style()
ggplot() +
geom_line(df_dep, aes(x=Fecha, CASOS, colour=REGION,group=REGION)) +
scale_colour_manual(values=pal1)+
theme(panel.background = element_rect(fill = "white"),
legend.position = "right",
legend.justification = c("right","top"))+
# theme(axis.text.x = element_text(angle=90),
#       )+
labs(title="SARS-CoV2 en Perú", y="Casos por región",
x="Fecha", caption="Source :varios")+
# scale_x_date(labels = date_format("%d-%m"))
# scale_y_continuous(name="", breaks=NA, limits=c(0,1)) +
geom_vline(data=d, mapping=aes(xintercept=date), color="blue") +
geom_text(data=d, mapping=aes(x=date, label=event), size=4, angle=90, vjust=-0.4, hjust=0)+
scale_x_date(labels = date_format("%d-%m")) +
bbc_style()
ggplot(df_dep, aes(x=Fecha, CASOS)) +
geom_line( mapping = aes(colour=REGION,group=REGION)) +
scale_colour_manual(values=pal1)+
theme(panel.background = element_rect(fill = "white"),
legend.position = "right",
legend.justification = c("right","top"))+
# theme(axis.text.x = element_text(angle=90),
#       )+
labs(title="SARS-CoV2 en Perú", y="Casos por región",
x="Fecha", caption="Source :varios")+
# scale_x_date(labels = date_format("%d-%m"))
scale_x_date(labels = date_format("%d-%m")) +
# scale_y_continuous(name="", breaks=NA, limits=c(0,1)) +
geom_vline(data=d, mapping=aes(xintercept=date), color="blue") +
geom_text(data=d, mapping=aes(x=date, label=event), size=4, angle=90, vjust=-0.4, hjust=0)+
bbc_style()
ggplot(df_dep, aes(x=Fecha,y = CASOS)) +
geom_line( mapping = aes(colour=REGION,group=REGION)) +
scale_colour_manual(values=pal1)+
theme(panel.background = element_rect(fill = "white"),
legend.position = "right",
legend.justification = c("right","top"))+
# theme(axis.text.x = element_text(angle=90),
#       )+
labs(title="SARS-CoV2 en Perú", y="Casos por región",
x="Fecha", caption="Source :varios")+
# scale_x_date(labels = date_format("%d-%m"))
scale_x_date(labels = date_format("%d-%m")) +
# scale_y_continuous(name="", breaks=NA, limits=c(0,1)) +
geom_vline(data=d, mapping=aes(xintercept=date), color="blue") +
geom_text(data=d, mapping=aes(x=date, label=event), size=4, angle=90, vjust=-0.4, hjust=0)+
bbc_style()
View(df_dep)
ggplot(df_dep, aes(x=Fecha)) +
geom_line( mapping = aes(CASOS,colour=REGION,group=REGION)) +
scale_colour_manual(values=pal1)+
theme(panel.background = element_rect(fill = "white"),
legend.position = "right",
legend.justification = c("right","top"))+
# theme(axis.text.x = element_text(angle=90),
#       )+
labs(title="SARS-CoV2 en Perú", y="Casos por región",
x="Fecha", caption="Source :varios")+
# scale_x_date(labels = date_format("%d-%m"))
scale_x_date(labels = date_format("%d-%m")) +
# scale_y_continuous(name="", breaks=NA, limits=c(0,1)) +
geom_vline(data=d, mapping=aes(xintercept=date), color="blue") +
geom_text(data=d, mapping=aes(x=date, label=event), size=4, angle=90, vjust=-0.4, hjust=0)+
bbc_style()
ggplot(df_dep, aes(x=Fecha)) +
geom_line( mapping = aes(CASOS,colour=REGION,group=REGION)) +
scale_colour_manual(values=pal1)+
theme(panel.background = element_rect(fill = "white"),
legend.position = "right",
legend.justification = c("right","top"))+
# theme(axis.text.x = element_text(angle=90),
#       )+
labs(title="SARS-CoV2 en Perú", y="Casos por región",
x="Fecha", caption="Source :varios")+
# scale_x_date(labels = date_format("%d-%m"))
# scale_y_continuous(name="", breaks=NA, limits=c(0,1)) +
geom_vline(data=d, mapping=aes(xintercept=date), color="blue") +
geom_text(data=d, mapping=aes(x=date, label=event), size=4, angle=90, vjust=-0.4, hjust=0)+
scale_x_date(labels = date_format("%d-%m")) +
bbc_style()
View(df_dep)
sapply(df_dep, class)
sapply(d, class)
ggplot(df_dep, aes(x=Fecha)) +
geom_line( mapping = aes(CASOS,colour=REGION,group=REGION)) +
scale_colour_manual(values=pal1)+
theme(panel.background = element_rect(fill = "white"),
legend.position = "right",
legend.justification = c("right","top"))+
# theme(axis.text.x = element_text(angle=90),
#       )+
labs(title="SARS-CoV2 en Perú", y="Casos por región",
x="Fecha", caption="Source :varios")+
scale_x_date(labels = date_format("%d-%m"))
# scale_y_continuous(name="", breaks=NA, limits=c(0,1)) +
geom_vline(data=d, mapping=aes(xintercept=date), color="blue") +
geom_text(data=d, mapping=aes(x=date, label=event), size=4, angle=90, vjust=-0.4, hjust=0)+
scale_x_date(labels = date_format("%d-%m")) +
bbc_style()
ggplot(df_dep, aes(x=Fecha)) +
geom_line( mapping = aes(CASOS,colour=REGION,group=REGION)) +
scale_colour_manual(values=pal1)+
theme(panel.background = element_rect(fill = "white"),
legend.position = "right",
legend.justification = c("right","top"))+
# theme(axis.text.x = element_text(angle=90),
#       )+
labs(title="SARS-CoV2 en Perú", y="Casos por región",
x="Fecha", caption="Source :varios")+
scale_x_date(labels = date_format("%d-%m"))+
# scale_y_continuous(name="", breaks=NA, limits=c(0,1)) +
geom_vline(data=d, mapping=aes(xintercept=date), color="blue") +
geom_text(data=d, mapping=aes(x=date, label=event), size=4, angle=90, vjust=-0.4, hjust=0)+
scale_x_date(labels = date_format("%d-%m")) +
bbc_style()
ggplot(data = df_dep, aes(x=Fecha,y = CASOS)) +
geom_line( mapping = aes(colour=group)) +
scale_colour_manual(values=pal1)+
theme(panel.background = element_rect(fill = "white"),
legend.position = "right",
legend.justification = c("right","top"))+
# theme(axis.text.x = element_text(angle=90),
#       )+
labs(title="SARS-CoV2 en Perú", y="Casos por región",
x="Fecha", caption="Source :varios")+
scale_x_date(labels = date_format("%d-%m"))+
# scale_y_continuous(name="", breaks=NA, limits=c(0,1)) +
geom_vline(data=d, mapping=aes(xintercept=date), color="blue") +
geom_text(data=d, mapping=aes(x=date, label=event), size=4, angle=90, vjust=-0.4, hjust=0)+
scale_x_date(labels = date_format("%d-%m")) +
bbc_style()
ggplot(data = df_dep, aes(x=Fecha,y = CASOS)) +
geom_line( mapping = aes(colour=REGION)) +
scale_colour_manual(values=pal1)+
theme(panel.background = element_rect(fill = "white"),
legend.position = "right",
legend.justification = c("right","top"))+
# theme(axis.text.x = element_text(angle=90),
#       )+
labs(title="SARS-CoV2 en Perú", y="Casos por región",
x="Fecha", caption="Source :varios")+
scale_x_date(labels = date_format("%d-%m"))+
# scale_y_continuous(name="", breaks=NA, limits=c(0,1)) +
geom_vline(data=d, mapping=aes(xintercept=date), color="blue") +
geom_text(data=d, mapping=aes(x=date, label=event), size=4, angle=90, vjust=-0.4, hjust=0)+
scale_x_date(labels = date_format("%d-%m")) +
bbc_style()
ggplot(data = df_dep, aes(x=Fecha,y = CASOS)) +
geom_line( mapping = aes(y = CASOS,colour=REGION,group=REGION)) +
scale_colour_manual(values=pal1)+
theme(panel.background = element_rect(fill = "white"),
legend.position = "right",
legend.justification = c("right","top"))+
# theme(axis.text.x = element_text(angle=90),
#       )+
labs(title="SARS-CoV2 en Perú", y="Casos por región",
x="Fecha", caption="Source :varios")+
scale_x_date(labels = date_format("%d-%m"))+
# scale_y_continuous(name="", breaks=NA, limits=c(0,1)) +
geom_vline(data=d, mapping=aes(xintercept=date), color="blue") +
geom_text(data=d, mapping=aes(x=date, label=event), size=4, angle=90, vjust=-0.4, hjust=0)+
scale_x_date(labels = date_format("%d-%m")) +
bbc_style()
df_95ci <- data.frame(y_values=c(-1,1)*qnorm(0.95))
df_99ci <- data.frame(y_values=c(-1,1)*qnorm(0.99))
View(df_95ci)
geom_vline(data=d, mapping=aes(xintercept=Fecha), color="blue") +
geom_text(data=d, mapping=aes(x=Fecha, label=event), size=4, angle=90, vjust=-0.4, hjust=0)+
scale_x_date(labels = date_format("%d-%m")) +
bbc_style()
geom_vline(data=d, mapping=aes(xintercept=Fecha), color="blue") +
geom_text(data=d, mapping=aes(x=Fecha, label=event), size=4, angle=90, vjust=-0.4, hjust=0)+
scale_x_date(labels = date_format("%d-%m")) +
bbc_style()
ggplot()+
geom_vline(data=d, mapping=aes(xintercept=Fecha), color="blue") +
geom_text(data=d, mapping=aes(x=Fecha, label=event), size=4, angle=90, vjust=-0.4, hjust=0)+
scale_x_date(labels = date_format("%d-%m")) +
bbc_style()
ggplot(data = df_dep, aes(x=Fecha,y = CASOS)) +
geom_line( mapping = aes(y = CASOS,colour=REGION,group=REGION)) +
scale_colour_manual(values=pal1)+
theme(panel.background = element_rect(fill = "white"),
legend.position = "right",
legend.justification = c("right","top"))+
# theme(axis.text.x = element_text(angle=90),
#       )+
labs(title="SARS-CoV2 en Perú", y="Casos por región",
x="Fecha", caption="Source :varios")+
scale_x_date(labels = date_format("%d-%m"))+
# scale_y_continuous(name="", breaks=NA, limits=c(0,1)) +
geom_vline(data=d, mapping=aes(xintercept=date), color="blue") +
# geom_text(data=d, mapping=aes(x=date, label=event), size=4, angle=90, vjust=-0.4, hjust=0)+
scale_x_date(labels = date_format("%d-%m")) +
bbc_style()
View(df_dep)
ggplot(data = df_dep, aes(x=Fecha,y = CASOS)) +
geom_line( mapping = aes(y = CASOS,colour=REGION,group=REGION)) +
scale_colour_manual(values=pal1)+
theme(panel.background = element_rect(fill = "white"),
legend.position = "right",
legend.justification = c("right","top"))+
# theme(axis.text.x = element_text(angle=90),
#       )+
labs(title="SARS-CoV2 en Perú", y="Casos por región",
x="Fecha", caption="Source :varios")+
scale_x_date(labels = date_format("%d-%m"))+
# scale_y_continuous(name="", breaks=NA, limits=c(0,1)) +
geom_vline(data=d, mapping=aes(xintercept=date), color="blue") +
geom_label(data=d, mapping=aes(x=date, label=event), size=4, angle=90, vjust=-0.4, hjust=0)+
scale_x_date(labels = date_format("%d-%m")) +
bbc_style()
ggplot(data = df_dep, aes(x=Fecha,y = CASOS)) +
geom_line( mapping = aes(y = CASOS,colour=REGION,group=REGION)) +
scale_colour_manual(values=pal1)+
theme(panel.background = element_rect(fill = "white"),
legend.position = "right",
legend.justification = c("right","top"))+
# theme(axis.text.x = element_text(angle=90),
#       )+
labs(title="SARS-CoV2 en Perú", y="Casos por región",
x="Fecha", caption="Source :varios")+
scale_x_date(labels = date_format("%d-%m"))+
# scale_y_continuous(name="", breaks=NA, limits=c(0,1)) +
geom_vline(data=d, mapping=aes(xintercept=date), color="blue") +
# geom_label(data=d, mapping=aes(x=date, label=event), size=4, angle=90, vjust=-0.4, hjust=0)+
scale_x_date(labels = date_format("%d-%m")) +
bbc_style()
ggplot(data = df_dep, aes(x=Fecha,y = CASOS)) +
geom_line( mapping = aes(y = CASOS,colour=REGION,group=REGION)) +
scale_colour_manual(values=pal1)+
theme(panel.background = element_rect(fill = "white"),
legend.position = "right",
legend.justification = c("right","top"))+
# theme(axis.text.x = element_text(angle=90),
#       )+
labs(title="SARS-CoV2 en Perú", y="Casos por región",
x="Fecha", caption="Source :varios")+
scale_x_date(labels = date_format("%d-%m"))+
# scale_y_continuous(name="", breaks=NA, limits=c(0,1)) +
geom_vline(data=d, mapping=aes(xintercept=date,label=event), color="blue") +
# geom_label(data=d, mapping=aes(x=date, label=event), size=4, angle=90, vjust=-0.4, hjust=0)+
scale_x_date(labels = date_format("%d-%m")) +
bbc_style()
ggplot(data = df_dep, aes(x=Fecha,y = CASOS)) +
geom_line( mapping = aes(y = CASOS,colour=REGION,group=REGION)) +
scale_colour_manual(values=pal1)+
theme(panel.background = element_rect(fill = "white"),
legend.position = "right",
legend.justification = c("right","top"))+
# theme(axis.text.x = element_text(angle=90),
#       )+
labs(title="SARS-CoV2 en Perú", y="Casos por región",
x="Fecha", caption="Source :varios")+
scale_x_date(labels = date_format("%d-%m"))+
# scale_y_continuous(name="", breaks=NA, limits=c(0,1)) +
geom_vline(data=d, mapping=aes(xintercept=date,label=event), color="blue") +
# geom_label(data=d, mapping=aes(x=date, label=event), size=4, angle=90, vjust=-0.4, hjust=0)+
scale_x_date(labels = date_format("%d-%m"))
p<-ggplot(data = df_dep, aes(x=Fecha,y = CASOS)) +
geom_line( mapping = aes(y = CASOS,colour=REGION,group=REGION)) +
scale_colour_manual(values=pal1)+
theme(panel.background = element_rect(fill = "white"),
legend.position = "right",
legend.justification = c("right","top"))+
# theme(axis.text.x = element_text(angle=90),
#       )+
labs(title="SARS-CoV2 en Perú", y="Casos por región",
x="Fecha", caption="Source :varios")+
scale_x_date(labels = date_format("%d-%m"))+
# scale_y_continuous(name="", breaks=NA, limits=c(0,1)) +
geom_vline(data=d, mapping=aes(xintercept=date,label=event), color="blue") +
# geom_label(data=d, mapping=aes(x=date, label=event), size=4, angle=90, vjust=-0.4, hjust=0)+
scale_x_date(labels = date_format("%d-%m"))
ggplotly(p)
ggplot(data = df_dep, aes(x=Fecha,y = CASOS)) +
geom_line( mapping = aes(y = CASOS,colour=REGION,group=REGION)) +
scale_colour_manual(values=pal1)+
theme(panel.background = element_rect(fill = "white"),
legend.position = "right",
legend.justification = c("right","top"))+
# theme(axis.text.x = element_text(angle=90),
#       )+
labs(title="SARS-CoV2 en Perú", y="Casos por región",
x="Fecha", caption="Source :varios")+
scale_x_date(labels = date_format("%d-%m"))+
# scale_y_continuous(name="", breaks=NA, limits=c(0,1)) +
geom_vline(data=d, mapping=aes(xintercept=date,label=event), color="blue") +
# geom_label(data=d, mapping=aes(x=date, label=event), size=4, angle=90, vjust=-0.4, hjust=0)+
scale_x_date(labels = date_format("%d-%m"))
ggplot(data = df_dep, aes(x=Fecha,y = CASOS)) +
geom_line( mapping = aes(y = CASOS,colour=REGION,group=REGION)) +
scale_colour_manual(values=pal1)+
geom_text(data=d, mapping=aes(x=date, label=event), size=4, angle=90, vjust=-0.4, hjust=0)+
theme(panel.background = element_rect(fill = "white"),
legend.position = "right",
legend.justification = c("right","top"))+
# theme(axis.text.x = element_text(angle=90),
#       )+
labs(title="SARS-CoV2 en Perú", y="Casos por región",
x="Fecha", caption="Source :varios")+
scale_x_date(labels = date_format("%d-%m"))+
# scale_y_continuous(name="", breaks=NA, limits=c(0,1)) +
geom_vline(data=d, mapping=aes(xintercept=date,label=event), color="blue") +
# geom_text(data=d, mapping=aes(x=date, label=event), size=4, angle=90, vjust=-0.4, hjust=0)+
scale_x_date(labels = date_format("%d-%m")) +
bbc_style()
ggplot(data = df_dep, aes(x=Fecha,y = CASOS)) +
geom_line( mapping = aes(y = CASOS,colour=REGION,group=REGION)) +
scale_colour_manual(values=pal1)+
theme(panel.background = element_rect(fill = "white"),
legend.position = "right",
legend.justification = c("right","top"))+
# theme(axis.text.x = element_text(angle=90),
#       )+
labs(title="SARS-CoV2 en Perú", y="Casos por región",
x="Fecha", caption="Source :varios")+
scale_x_date(labels = date_format("%d-%m"))+
# scale_y_continuous(name="", breaks=NA, limits=c(0,1)) +
geom_vline(data=d, mapping=aes(xintercept=date,label=event), color="blue") +
geom_text(data=d, mapping=aes(x=date, label=event), size=4, angle=90, vjust=-0.4, hjust=0)+
scale_x_date(labels = date_format("%d-%m")) +
aes_distinct()
-ggplot(data = df_dep, aes(x=Fecha,y = CASOS)) +
geom_line( mapping = aes(y = CASOS,colour=REGION,group=REGION)) +
scale_colour_manual(values=pal1)+
theme(panel.background = element_rect(fill = "white"),
legend.position = "right",
legend.justification = c("right","top"))+
# theme(axis.text.x = element_text(angle=90),
#       )+
labs(title="SARS-CoV2 en Perú", y="Casos por región",
x="Fecha", caption="Source :varios")+
scale_x_date(labels = date_format("%d-%m"))+
# scale_y_continuous(name="", breaks=NA, limits=c(0,1)) +
geom_vline(data=d, mapping=aes(xintercept=date,label=event), color="blue") +
geom_text(data=d, mapping=aes(x=date, label=event), size=4, angle=90, vjust=-0.4, hjust=0)+
scale_x_date(labels = date_format("%d-%m"))
ggplot(data = df_dep, aes(x=Fecha,y = CASOS)) +
geom_line( mapping = aes(y = CASOS,colour=REGION,group=REGION)) +
scale_colour_manual(values=pal1)+
theme(panel.background = element_rect(fill = "white"),
legend.position = "right",
legend.justification = c("right","top"))+
# theme(axis.text.x = element_text(angle=90),
#       )+
labs(title="SARS-CoV2 en Perú", y="Casos por región",
x="Fecha", caption="Source :varios")+
scale_x_date(labels = date_format("%d-%m"))+
# scale_y_continuous(name="", breaks=NA, limits=c(0,1)) +
geom_vline(data=d, mapping=aes(xintercept=date,label=event), color="blue") +
# geom_text(data=d, mapping=aes(x=date, label=event), size=4, angle=90, vjust=-0.4, hjust=0)+
scale_x_date(labels = date_format("%d-%m"))
library(data.table)
library(dplyr)
setwd("~/covid19")
library(JLutils)
dat <- rio::import("https://github.com/jincio/COVID_19_PERU/blob/master/docs/reportes_minsa.xlsx?raw=true")
dat1 <- dat %>%
mutate(pos_new = Positivos-lag(Positivos,default = 0),
des_new = Descartados-lag(Descartados,default = 0)) %>%
group_by(Dia) %>%
summarise(pos_new = sum(pos_new), des_new = sum(des_new)) %>%
mutate(cum_pos = cumsum(pos_new),
tot_pruebas = pos_new+des_new)
